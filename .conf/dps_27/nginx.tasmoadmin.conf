location ^~ /tasmoadmin {
	# Manually deny some paths to ensure Tasmoadmin security
	location ~* ^/tasmoadmin/(?:\.|data) {
		deny all;
	}

	# Enable URL rewrites, required for sync clients
	try_files $uri $uri/ /pydio/index.php?$args;

	location ~ .php$ {
		fastcgi_split_path_info ^(.+\.php)(/.*)$;
		include fastcgi_params;
		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		fastcgi_param SCRIPT_NAME $fastcgi_script_name; # necessary for owncloud to detect the contextroot https://github.com/owncloud/core/blob/v10.0.0/lib/private/AppFramework/Http/Request.php#L603
		fastcgi_param PATH_INFO $fastcgi_path_info;
		fastcgi_param HTTPS $https;
		fastcgi_param modHeadersAvailable true; #Avoid sending the security headers twice
		# EXPERIMENTAL: active the following if you need to get rid of the 'index.php' in the URLs
		fastcgi_param front_controller_active true;
		fastcgi_read_timeout 180; # increase default timeout e.g. for long running carddav/ caldav syncs with 1000+ entries
		fastcgi_pass php;
		fastcgi_intercept_errors on;
		fastcgi_request_buffering off;
	}

	location ~ ^(.*)\.(css|js|gif||jpe?g|png|json|cache\.json)$ {
	}

	location /tasmoadmin {
		rewrite ^/login$ /login.php last;
		rewrite ^/logout$ /login.php?logout=logout last;
		rewrite ^/doAjaxAll$ /index.php?doAjaxAll=doAjaxAll last;
		rewrite ^/doAjax$ /index.php?doAjax=doAjax last;
		rewrite "/([a-z]{2})/" /index.php?lang=$1 last;
		rewrite ^/([a-zA-Z_]+)/([a-zA-Z_]+)/([0-9_]+)/?$ /index.php?page=$1&action=$2&device_id=$3;
		rewrite ^/([a-zA-Z_]+)/(force)/?$ /index.php?page=$1&force=1;
		rewrite ^/([a-zA-Z_]+)/([a-zA-Z_]+)/?$ /index.php?page=$1&action=$2;
		rewrite ^/([a-zA-Z_]+)/([0-9]+)/?$ /index.php?page=$1&device_id=$2;
		rewrite ^/([a-zA-Z_]+)/?$ /index.php?page=$1;
	}

}
